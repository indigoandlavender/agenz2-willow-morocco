@tailwind base;
@tailwind components;
@tailwind utilities;

/* WILLOW 2.0 Dark Mode - Financial Terminal Aesthetic */

@layer base {
  :root {
    --background: 10 10 10;
    --foreground: 244 244 245;
    --card: 24 24 27;
    --border: 39 39 42;
    --muted: 113 113 122;
    --accent-emerald: 16 185 129;
    --accent-amber: 245 158 11;
    --accent-red: 239 68 68;
  }

  * {
    @apply border-zinc-800;
  }

  html {
    @apply antialiased scroll-smooth;
    background: #0A0A0A;
  }

  body {
    @apply bg-[#0A0A0A] text-zinc-100 font-sans min-h-screen;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* IBM Plex Mono for numbers */
  .font-mono {
    font-family: 'IBM Plex Mono', ui-monospace, monospace;
    font-feature-settings: 'tnum';
  }
}

@layer components {
  /* Typography */
  .heading-1 {
    @apply text-3xl md:text-4xl font-light tracking-tight text-white;
  }

  .heading-2 {
    @apply text-2xl md:text-3xl font-medium text-white;
  }

  .heading-3 {
    @apply text-xl font-medium text-white;
  }

  .label {
    @apply text-xs uppercase tracking-widest text-zinc-500;
  }

  /* Cards */
  .card {
    @apply bg-zinc-900 border border-zinc-800 rounded-xl;
  }

  .card-interactive {
    @apply card transition-all duration-300 hover:border-zinc-700 hover:bg-zinc-800/50 cursor-pointer;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-zinc-900 disabled:opacity-50 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply btn bg-white text-black hover:bg-zinc-200 focus:ring-white px-5 py-2.5;
  }

  .btn-secondary {
    @apply btn bg-zinc-800 text-white border border-zinc-700 hover:bg-zinc-700 focus:ring-zinc-500 px-5 py-2.5;
  }

  .btn-ghost {
    @apply btn text-zinc-400 hover:text-white hover:bg-zinc-800 px-4 py-2;
  }

  .btn-emerald {
    @apply btn bg-emerald-600 text-white hover:bg-emerald-500 focus:ring-emerald-500 px-5 py-2.5;
  }

  .btn-amber {
    @apply btn bg-amber-600 text-black hover:bg-amber-500 focus:ring-amber-500 px-5 py-2.5;
  }

  /* Form Elements */
  .input {
    @apply w-full rounded-lg border border-zinc-700 bg-zinc-800/50 px-4 py-3 text-white placeholder:text-zinc-500 focus:border-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-500/20 transition-all;
  }

  .input-label {
    @apply block text-sm font-medium text-zinc-400 mb-2;
  }

  .input-error {
    @apply border-red-500/50 focus:border-red-500 focus:ring-red-500/20;
  }

  .select {
    @apply input appearance-none bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%2371717a%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22m6%208%204%204%204-4%22%2F%3E%3C%2Fsvg%3E')] bg-[length:1.5em_1.5em] bg-[right_0.5rem_center] bg-no-repeat pr-10;
  }

  /* Stats */
  .stat-card {
    @apply card p-6;
  }

  .stat-value {
    @apply text-3xl font-mono font-light text-white tabular-nums;
  }

  .stat-label {
    @apply label mt-1;
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .badge-emerald {
    @apply badge bg-emerald-500/10 text-emerald-400 border border-emerald-500/20;
  }

  .badge-amber {
    @apply badge bg-amber-500/10 text-amber-400 border border-amber-500/20;
  }

  .badge-red {
    @apply badge bg-red-500/10 text-red-400 border border-red-500/20;
  }

  .badge-zinc {
    @apply badge bg-zinc-800 text-zinc-400 border border-zinc-700;
  }

  /* Risk Grade Badges */
  .grade-a { @apply bg-emerald-500/20 text-emerald-400; }
  .grade-b { @apply bg-lime-500/20 text-lime-400; }
  .grade-c { @apply bg-yellow-500/20 text-yellow-400; }
  .grade-d { @apply bg-orange-500/20 text-orange-400; }
  .grade-e { @apply bg-red-500/20 text-red-400; }
  .grade-f { @apply bg-red-900/30 text-red-500; }

  /* Terminal Grid Lines */
  .grid-lines {
    background-image:
      linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* Glow effects */
  .glow-emerald {
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.15);
  }

  .glow-amber {
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.15);
  }

  /* Scrollbar */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #3f3f46 transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #3f3f46;
    border-radius: 3px;
  }
}

@layer utilities {
  /* Number formatting */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* Animation */
  .animate-in {
    animation: fadeIn 0.3s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Terminal cursor blink */
  .cursor-blink::after {
    content: '_';
    animation: blink 1s step-end infinite;
  }

  @keyframes blink {
    50% { opacity: 0; }
  }
}

/* Mapbox dark overrides */
.mapboxgl-popup-content {
  background: #18181b !important;
  color: #fafafa !important;
  border: 1px solid #3f3f46 !important;
  border-radius: 12px !important;
  padding: 0 !important;
}

.mapboxgl-popup-close-button {
  color: #71717a !important;
  font-size: 18px !important;
}

.mapboxgl-popup-tip {
  border-top-color: #18181b !important;
}
